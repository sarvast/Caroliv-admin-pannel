(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{2601:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(8960)},5495:function(e,t,r){Promise.resolve().then(r.bind(r,74))},74:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),n=r(2265),a=r(6728),o=r(826);function i(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0),[c,l]=(0,n.useState)(""),[d,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await o.h.call("/admin/users");e.success&&t(e.data)}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}},m=async(r,s)=>{if(confirm('Are you sure you want to delete user "'.concat(s,'"? This action cannot be undone.')))try{await o.h.call("/admin/users/".concat(r),{method:"DELETE"}),t(e.filter(e=>e.id!==r))}catch(e){alert(e.message||"Failed to delete user")}},h=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase()));return r?(0,s.jsx)("div",{className:"min-h-screen p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-foreground",children:"Loading users..."})]})})}):(0,s.jsx)("div",{className:"p-4 sm:p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Users Management"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Total Users: ",e.length]})]}),(0,s.jsx)(a.Z,{className:"mb-6 p-4",children:(0,s.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:e=>l(e.target.value),className:"w-full bg-input border border-border rounded-lg px-4 py-2 text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),(0,s.jsx)(a.Z,{className:"overflow-hidden",children:0===h.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No users found"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted/50 border-b border-border",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Gender"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Age"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Weight"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Target"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Goal"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Joined"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-border",children:h.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>u(e),children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-foreground",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:e.gender||"N/A"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:e.age||"N/A"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:e.currentWeight?"".concat(e.currentWeight," kg"):"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:e.targetWeight?"".concat(e.targetWeight," kg"):"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("lose"===e.goal?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"gain"===e.goal?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"," capitalize"),children:e.goal||"maintain"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),m(e.id,e.name)},className:"text-destructive hover:text-destructive/80 transition-colors",children:"Delete"})})]},e.id))})]})}),(0,s.jsx)("div",{className:"md:hidden space-y-4 p-4",children:h.map(e=>(0,s.jsxs)("div",{className:"bg-card/50 rounded-lg p-4 border border-border space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("lose"===e.goal?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"gain"===e.goal?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"," capitalize"),children:e.goal||"maintain"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-2 border-y border-border/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground uppercase",children:"Weight"}),(0,s.jsx)("p",{className:"font-semibold text-foreground",children:e.currentWeight?"".concat(e.currentWeight," kg"):"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground uppercase",children:"Target"}),(0,s.jsx)("p",{className:"font-semibold text-foreground",children:e.targetWeight?"".concat(e.targetWeight," kg"):"-"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)("button",{onClick:()=>u(e),className:"flex-1 py-2 rounded-lg bg-primary/10 text-primary font-medium hover:bg-primary/20 transition-colors",children:"View Details"}),(0,s.jsx)("button",{onClick:()=>m(e.id,e.name),className:"flex-1 py-2 rounded-lg bg-destructive/10 text-destructive font-medium hover:bg-destructive/20 transition-colors",children:"Delete"})]})]},e.id))})]})}),d&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",onClick:()=>u(null),children:(0,s.jsxs)(a.Z,{className:"max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"User Details"}),(0,s.jsx)("button",{onClick:()=>u(null),className:"text-muted-foreground hover:text-foreground p-1",children:"✕"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:d.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:d.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Password"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("p",{className:"text-sm font-mono text-foreground break-all",children:d.password||"••••••••"})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Encrypted (bcrypt)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gender"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground capitalize",children:d.gender||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Age"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-foreground",children:[d.age||"N/A"," years"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Height"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:d.height?"".concat(d.height," cm"):"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current Weight"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:d.currentWeight?"".concat(d.currentWeight," kg"):"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Target Weight"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:d.targetWeight?"".concat(d.targetWeight," kg"):"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Goal"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground capitalize",children:d.goal||"maintain"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Joined"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:new Date(d.createdAt).toLocaleDateString()})]})]}),(0,s.jsx)("div",{className:"mt-8 flex justify-end",children:(0,s.jsx)("button",{onClick:()=>m(d.id,d.name),className:"px-4 py-2 bg-destructive text-destructive-foreground rounded-lg hover:opacity-90 transition-opacity",children:"Delete User"})})]})})]})})}},6728:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437);function n(e){let{children:t,className:r="",...n}=e;return(0,s.jsx)("div",{className:"bg-card/80 backdrop-blur-lg rounded-xl border border-border shadow-lg transition-colors duration-300 ".concat(r),...n,children:t})}},826:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});let s=r(2601).env.NEXT_PUBLIC_ADMIN_KEY||"your-admin-api-key",n={async call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:r="GET",body:n,requiresAuth:a=!1}=t,o={"Content-Type":"application/json"};a&&(o["X-Admin-Key"]=s);let i={method:r,headers:o};n&&(i.body=JSON.stringify(n));try{let t;let r=await fetch("".concat("http://20.197.14.33:3000/api").concat(e),i);try{t=await r.json()}catch(e){t={}}if(!r.ok)throw Error(t.message||t.error||"Request failed with status ".concat(r.status));return t}catch(e){if(e.message)throw e;throw Error("Network error. Please check your connection and backend status.")}},async getExercises(e,t,r){let s="/exercises",n=new URLSearchParams;return e&&n.append("category",e),t&&n.append("difficulty",t),r&&n.append("search",r),n.toString()&&(s+="?".concat(n.toString())),this.call(s,{requiresAuth:!1})},async createExercise(e){return this.call("/admin/exercises",{method:"POST",body:e})},async updateExercise(e,t){return this.call("/admin/exercises/".concat(e),{method:"PUT",body:t})},async deleteExercise(e){return this.call("/admin/exercises/".concat(e),{method:"DELETE"})},async getFoods(e){let t="/foods";return e&&(t+="?category=".concat(e)),this.call(t,{requiresAuth:!1})},async createFood(e){return this.call("/admin/foods",{method:"POST",body:e})},async updateFood(e,t){return this.call("/admin/foods/".concat(e),{method:"PUT",body:t})},async deleteFood(e){return this.call("/admin/foods/".concat(e),{method:"DELETE"})},async adminLogin(e,t){if("ss8971132@gmail.com"===e&&"##hellosarvasva69"===t)return{success:!0,token:"admin_token_caroliv"};throw Error("Invalid email or password")}}},8960:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c=[],l=!1,d=-1;function u(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&x())}function x(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||i(x)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},o=!0;try{t[e](a,a.exports,s),o=!1}finally{o&&delete r[e]}return a.exports}s.ab="//";var n=s(229);e.exports=n}()},622:function(e,t,r){"use strict";var s=r(2265),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var s,a={},l=null,d=null;for(s in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,s)&&!c.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:l,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=5495)}),_N_E=e.O()}]);